parameters:
- name: azureServiceConnection
  type: string
  default: false

steps:
  - script: |
        echo "Inner value: ${{ parameters.azureServiceConnection }}"
    displayName: Inner Echo
    
  - script: |
        echo "Inner value: $(parameters.azureServiceConnection)"
    displayName: Inner Echo 2
    
  - script: |
        echo "Inner value: $(blah)"
    displayName: Inner Echo 3

  - task: AzureCLI@2
    displayName: Nested Template Step
    inputs:
      azureSubscription: $(blah)
      addSpnToEnvironment: true
      scriptType: bash
      scriptLocation: inlineScript
      inlineScript: |
        echo Here we go: ${{ parameters.azureServiceConnection }}
